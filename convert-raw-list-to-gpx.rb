# encoding: utf-8
require 'uri'
require 'open-uri'
require 'json'

osady = []
okres = nil

File.read('zoznam-osad-raw').split("\n").each do |line|
  if line.include?('Okres')
    okres = line[6..-1].strip
    next
  end
  
  if line.include?('- ')
    osady_inside_line = line[2..-1].split(', ').collect{|osada| "#{osada.strip}, okres #{okres}"}
    osady_inside_line
    osady << osady_inside_line
  end
  
end

osady.flatten!

uri = URI.parse('https://maps.googleapis.com/maps/api/geocode/json')
params = { 'key' => "KEY_HERE"  }

osady_a_poloha = {}
osady.each do |osada|
  next
  params['address'] = osada
  uri.query = URI.encode_www_form params 
  response = uri.open.read
  json_response = JSON.parse response
  if json_response['results'].size > 0 && json_response['results'].first['geometry']
    location_hash = json_response['results'].first['geometry']['location']
    lat, lon = location_hash['lat'], location_hash['lng']
    osady_a_poloha[osada] = [lat, lon]
    puts "ok: {osada}, #{lat} #{lon}"
  else
    puts "not found: #{osada}"
  end

end


osady_a_poloha = {"Blatné, okres Senec"=>[48.2669514, 17.417111], "Kuchyňa, okres Malacky"=>[48.4065374, 17.1553363], "Rohožník, okres Malacky"=>[48.4619372, 17.1670972], "Kostolište, okres Malacky"=>[48.433918, 17.0200224], "Malé Leváre, okres Malacky"=>[48.5031219, 16.969778], "Plavecký Štvrtok, okres Malacky"=>[48.3753856, 16.9969952], "Zohor, okres Malacky"=>[48.31746030000001, 16.982887], "Jabloňové, okres Malacky"=>[48.348495, 17.0964448], "Studienka, okres Malacky"=>[48.5275006, 17.1358371], "Lozorno, okres Malacky"=>[48.3324209, 17.0429424], "Pernek, okres Malacky"=>[48.3664393, 17.1464107], "Prašník, okres Piešťany"=>[48.6513018, 17.6879602], "Sládkovičovo, okres Galanta"=>[48.2045764, 17.6424312], "Jelka, okres Galanta"=>[48.14327189999999, 17.5025867], "Pata, okres Galanta"=>[48.2734391, 17.8279201], "Zemianske Sady, okres Galanta"=>[48.3260567, 17.8228154], "Trstice, okres Galanta"=>[48.0169535, 17.8057116], "Tomašikovo, okres Galanta"=>[48.0830428, 17.6940191], "Senica, okres Senica"=>[48.67652469999999, 17.3639576], "Hradište pod Vrátnom, okres Senica"=>[48.6274767, 17.487129], "Šajdíkové Humence, okres Senica"=>[48.65535819999999, 17.2672907], "Štefanov, okres Senica"=>[48.6784252, 17.200438], "Šaštín - Straže, okres Senica"=>[48.6386939, 17.1430093], "Čáry, okres Senica"=>[48.6548009, 17.0853312], "Jablonoca, okres Senica"=>[48.6808586, 17.3585057], "Kuklov, okres Senica"=>[48.6406593, 17.0667959], "Kúty, okres Senica"=>[48.6587974, 17.0197401], "Osuské, okres Senica"=>[48.6242171, 17.4417685], "Radošovce, okres Skalica"=>[48.7734213, 17.2766969], "Kopčany, okres Skalica"=>[48.784769, 17.115198], "Popudinské Močidlany, okres Skalica"=>[48.846418, 17.2245193], "Dunajská Streda, okres Dunajská Streda"=>[47.9918284, 17.6204554], "Jahodná, okres Dunajská Streda"=>[48.051452, 17.7032768], "Veľký Meder, okres Dunajská Streda"=>[47.8563614, 17.7703876], "Šamorín, okres Dunajská Streda"=>[48.0280907, 17.3137682], "Vrakúň, okres Dunajská Streda"=>[47.9386255, 17.6041637], "Nový Život, okres Dunajská Streda"=>[48.1207828, 17.4662888], "Gabčíkovo, okres Dunajská Streda"=>[47.8934645, 17.5799291], "Veľké Dvorníky, okres Dunajská Streda"=>[48.00017500000001, 17.6530235], "Štvrtok na Ostrove, okres Dunajská Streda"=>[48.0982773, 17.3556241], "Michal na Ostrove, okres Dunajská Streda"=>[48.0239278, 17.5122134], "Rohovce, okres Dunajská Streda"=>[47.9964098, 17.4086613], "Veľké Blahovo, okres Dunajská Streda"=>[48.0099792, 17.5795737], "Pataš, okres Dunajská Streda"=>[47.8765527, 17.6537248], "Zlaté Klasy, okres Dunajská Streda"=>[48.1178299, 17.4208198], "Lehnice, okres Dunajská Streda"=>[48.05120669999999, 17.4549243], "Myjava Žaboškreky, okres Myjava"=>[48.75736879999999, 17.5758614], "Krajné, okres Myjava"=>[48.70078609999999, 17.686263], "Horná Breznica, okres Púchov"=>[49.1086767, 18.2503847], "Dolná Breznica, okres Púchov"=>[49.0808859, 18.2617149], "Žabokreky nad Nitricou, okres Partizánske"=>[48.6263002, 18.3026809], "Chynorany, okres Partizánske"=>[48.6098224, 18.274367], "Handlová, okres Prievidza"=>[48.7222258, 18.7557462], "Beladice, okres Zlaté Moravce"=>[48.345121, 18.2934551], "Choča, okres Zlaté Moravce"=>[48.3864263, 18.3916534], "Tekovské Nemce, okres Zlaté Moravce"=>[48.3572424, 18.5312172], "Volkovce, okres Zlaté Moravce"=>[48.3376892, 18.4551292], "Mužľa, okres Nové Zámky"=>[47.7932822, 18.5975841], "Kamenín, okres Nové Zámky"=>[47.8879238, 18.6451289], "Veľké Lovce, okres Nové Zámky"=>[48.06089310000001, 18.3344586], "Trvdošovce, okres Nové Zámky"=>[48.0950145, 18.0637607], "Komjatice, okres Nové Zámky"=>[48.1571462, 18.1700848], "Strekov, okres Nové Zámky"=>[47.90371349999999, 18.4180579], "Obid, okres Nové Zámky"=>[47.7777903, 18.6461201], "Zemné, okres Nové Zámky"=>[47.9832207, 17.9985059], "Dubník, okres Nové Zámky"=>[47.9582696, 18.4091498], "Kamenica nad Hronom, okres Nové Zámky"=>[47.8310021, 18.7270119], "Semerovo, okres Nové Zámky"=>[48.0116905, 18.3558186], "Kolárovo, okres Komárno"=>[47.918114, 17.9948528], "Čaka, okres Levice"=>[48.0397553, 18.4693547], "Dolná Seč, okres Levice"=>[48.1758547, 18.5637007], "Dolný Pial, okres Levice"=>[48.1313987, 18.4619925], "Kozárovce, okres Levice"=>[48.3161677, 18.5227693], "Santovka, okres Levice"=>[48.1567193, 18.7609264], "Višňové, okres Žilina"=>[49.1628833, 18.7791476], "Turie, okres Žilina"=>[49.1492587, 18.7530373], "Dolná Tižina, okres Žilina"=>[49.2148258, 18.9161908], "Lysica, okres Žilina"=>[49.24448229999999, 18.9220917], "Pribylina, okres Liptovský Mikuláš"=>[49.0991992, 19.7944255], "Važec, okres Liptovský Mikuláš"=>[49.059605, 19.9801243], "Hlboké, okres Liptovský Mikuláš"=>[49.0700843, 19.6442897], "Nesluša - Puškatka, okres Kysucké Nové Mesto"=>[49.3217478, 18.7940041], "Litava, okres Krupina"=>[48.29896170000001, 19.1793522], "Bzovík, okres Krupina"=>[48.3203106, 19.0886666], "Hontianske Tesáre, okres Krupina"=>[48.2015213, 18.9210598], "Hedovarce, okres Krupina"=>[48.3008708, 19.038265], "Čekovce, okres Krupina"=>[48.3507417, 19.1216726], "Súdovce, okres Krupina"=>[48.2089592, 18.8358303], "Cérovo, okres Krupina"=>[48.25465759999999, 19.1571959], "Muránska Dlhá Lúka, okres Revúca"=>[48.7176807, 20.081165], "Kiešková, okres Revúca"=>[48.6217516, 20.1596949], "Hucín, okres Revúca"=>[48.5644749, 20.2982525], "Šrobárka, okres Revúca"=>[48.62912, 20.10915], "Šivetice, okres Revúca"=>[48.5812465, 20.2755641], "Suché, okres Revúca"=>[48.9098611, 19.0881309], "Revúčka, okres Revúca"=>[48.7042396, 20.1306083], "Horná Ždaňa, okres Žiar nad Hronom"=>[48.568902, 18.7500994], "Prestavky, okres Žiar nad Hronom"=>[48.586541, 18.7576152], "Stará Kremnička, okres Žiar nad Hronom"=>[48.6018487, 18.888489], "Trenč, okres Lučenec"=>[48.2237008, 19.5776394], "Šíd, okres Lučenec"=>[48.2748397, 19.8801284], "Ružina, okres Lučenec"=>[48.4291018, 19.5513697], "Rapovce, okres Lučenec"=>[48.2730747, 19.6813517], "Lučenec, okres Lučenec"=>[48.3289346, 19.6653485], "Divín, okres Lučenec"=>[48.4504922, 19.5326649], "Čakanovce, okres Lučenec"=>[48.2134162, 19.8146795], "Točnica, okres Lučenec"=>[48.4131921, 19.6412002], "Divín - Dolina, okres Lučenec"=>[48.3399228, 19.6449534], "Lovinobaňa, okres Lučenec"=>[48.4384765, 19.5894382], "Boľkovce, okres Lučenec"=>[48.337391, 19.770541], "Žarnovica, okres Žarnovica"=>[48.4883608, 18.7077948], "Hodruša Hámre, okres Žarnovica"=>[48.4607226, 18.7626506], "Čierny Balog - Medveďov, okres Brezno"=>[48.75026, 19.6253], "Čierny Balog - Vydrovo, okres Brezno"=>[48.7422221, 19.6549313], "Čierny Balog - Jánošovka, okres Brezno"=>[48.7427334, 19.6673442], "Čierny Balog - Pusté, okres Brezno"=>[48.7356563, 19.6838807], "Heľpa - Výhon, okres Brezno"=>[48.733954, 19.6510594], "Pohorelá, okres Brezno"=>[48.8617318, 20.0165617], "Polomka - Dolinka, okres Brezno"=>[48.733954, 19.6510594], "Telgárd - horná osada, okres Brezno"=>[48.733954, 19.6510594], "Telgárd - dolná osada, okres Brezno"=>[48.733954, 19.6510594], "Valkovňa, okres Brezno"=>[48.83455, 20.0684366], "Šumiac, okres Brezno"=>[48.84007099999999, 20.1298532], "Pohronská Polhora, okres Brezno"=>[48.7551565, 19.799098], "Horná Lehota, okres Brezno"=>[48.8394928, 19.5476277], "Sielnica, okres Zvolen"=>[48.6316383, 19.1107199], "Breziny, okres Zvolen"=>[48.5111636, 19.0849802], "Zvolenská Slatina, okres Zvolen"=>[48.5602379, 19.2598572], "Sása - Lomné, okres Zvolen"=>[48.4944444, 19.1624999], "Lieskovec, okres Zvolen"=>[48.5776347, 19.1907037], "Zolná, okres Zvolen"=>[48.6011217, 19.224406], "Budča, okres Zvolen"=>[48.5743992, 19.0700413], "Svätý Anton, okres Banská Štiavnica"=>[48.4176065, 18.9392008], "Prenčov, okres Banská Štiavnica"=>[48.3586717, 18.9242301], "Badaň, okres Banská Štiavnica"=>[48.3318997, 18.8407583], "Kosihovce, okres Veľký Krtíš"=>[48.1819347, 19.2021255], "Čelovce, okres Veľký Krtíš"=>[48.1834867, 19.1435517], "Hrušov, okres Veľký Krtíš"=>[48.1542299, 19.091784], "Víglaš, okres Detva"=>[48.55614079999999, 19.2883793], "Hriňová, okres Detva"=>[48.5780002, 19.5277549], "Detva, okres Detva"=>[48.5603755, 19.4191434], "Dúbravy, okres Detva"=>[48.5874016, 19.3693848], "Hrochoť, okres Banská Bystrica"=>[48.6554469, 19.3122715], "Na Hrbe, okres Banská Bystrica"=>[48.7459227, 19.1862946], "Na Skalici, okres Banská Bystrica"=>[48.7649583, 19.1567639], "Môlča, okres Banská Bystrica"=>[48.7105239, 19.2299324], "Podlavice, okres Banská Bystrica"=>[48.74219, 19.1089], "Dolná Mičiná, okres Banská Bystrica"=>[48.6728405, 19.221089], "Dúbravica, okres Banská Bystrica"=>[48.6777928, 19.2717934], "Slovenská Lupča, okres Banská Bystrica"=>[48.7654511, 19.2757858], "Medený Hámor, okres Banská Bystrica"=>[48.7524815, 19.1382262], "Banská Bystrica, okres Banská Bystrica"=>[48.736277, 19.1461917], "Simonovce, okres Rimavská Sobota"=>[48.2719579, 20.1104491], "Hodejov, okres Rimavská Sobota"=>[48.302178, 19.9964253], "Rím Brezovo, okres Rimavská Sobota"=>[48.54020509999999, 19.9642568], "Tachty, okres Rimavská Sobota"=>[48.1539474, 19.9402011], "Sirkovce, okres Rimavská Sobota"=>[48.2880466, 20.0895852], "Hnúšťa, okres Rimavská Sobota"=>[48.5791265, 19.9536904], "Tisovec, okres Rimavská Sobota"=>[48.680572, 19.9428911], "Husiná, okres Rimavská Sobota"=>[48.3405029, 19.8768118], "Klenovec, okres Rimavská Sobota"=>[48.5967673, 19.8910324], "Čerenčany, okres Rimavská Sobota"=>[48.40799459999999, 19.9868587], "Lénártovce, okres Rimavská Sobota"=>[48.2987565, 20.3100605], "Vrbovce, okres Rimavská Sobota"=>[48.452018, 19.9577248], "Španie Pole, okres Rimavská Sobota"=>[48.5206718, 20.1266981], "Jestice, okres Rimavská Sobota"=>[48.2190133, 20.0532428], "Cákov, okres Rimavská Sobota"=>[48.340035, 20.2255532], "Abranovce, okres Prešov"=>[48.93274359999999, 21.3480108], "Bzenov, okres Prešov"=>[48.948664, 21.1654928], "Červenica, okres Prešov"=>[48.88702139999999, 21.4506082], "Drienov, okres Prešov"=>[48.8731356, 21.2707028], "Drienovská Nová Ves, okres Prešov"=>[48.9114535, 21.2448446], "Dulová Ves, okres Prešov"=>[48.9553846, 21.3014876], "Fričovce, okres Prešov"=>[49.0162783, 20.9658507], "Hermanovce, okres Prešov"=>[49.0448902, 21.0197855], "Chmeľov, okres Prešov"=>[49.071915, 21.4366195], "Chmiňan, okres Prešov"=>[48.99882909999999, 21.1738322], "Chminianske Jakubovany, okres Prešov"=>[48.9911385, 21.0005936], "Janov, okres Prešov"=>[48.9386227, 21.1782088], "Kapušany, okres Prešov"=>[49.0437129, 21.3331275], "Kendice, okres Prešov"=>[48.9243667, 21.2422497], "Kojatice, okres Prešov"=>[48.9983035, 21.1304722], "Lemešany, okres Prešov"=>[48.8513086, 21.2717228], "Lesíček, okres Prešov"=>[48.9176745, 21.3842365], "Malý Šariš, okres Prešov"=>[49.0076674, 21.1786186], "Mirkovce, okres Prešov"=>[48.8883561, 21.3262284], "Ovčie, okres Prešov"=>[48.96309, 20.9769669], "Petrovany, okres Prešov"=>[48.9172348, 21.2608756], "Rokocany, okres Prešov"=>[48.99882909999999, 21.1738322], "Ruská Nová Ves, okres Prešov"=>[48.9765425, 21.3238318], "Seniakovce, okres Prešov"=>[48.8260422, 21.3028022], "Svinia, okres Prešov"=>[49.01016329999999, 21.1254325], "Šarišská Poruba, okres Prešov"=>[49.0386235, 21.387988], "Šarišská Trstená, okres Prešov"=>[49.0864003, 21.3851687], "Šindliar, okres Prešov"=>[49.0385097, 20.9422754], "Terňa, okres Prešov"=>[49.1111723, 21.2372464], "Tuhrina, okres Prešov"=>[48.8977747, 21.4062529], "Varhaňovce, okres Prešov"=>[48.8558114, 21.3642296], "Veľký Šariš, okres Prešov"=>[49.0396611, 21.1940981], "Víťaz, okres Prešov"=>[48.972628, 20.9582339], "Žehňa, okres Prešov"=>[48.9165849, 21.3408082], "Bardejov - Dlhá Lúka, okres Bardejov"=>[49.3342955, 21.2942412], "Bardejov - Poštárka, okres Bardejov"=>[49.2683706, 21.2927112], "Cígeľka, okres Bardejov"=>[49.4060139, 21.1483624], "Frička, okres Bardejov"=>[49.4025385, 21.0871282], "Gerlachov, okres Bardejov"=>[49.3206433, 21.1102844], "Hrabské, okres Bardejov"=>[49.3385189, 21.0735123], "Kurima, okres Bardejov"=>[49.3146395, 21.292923], "Kurov, okres Bardejov"=>[49.34195889999999, 21.1347281], "Lenártov, okres Bardejov"=>[49.31008929999999, 21.0205395], "Lascov, okres Bardejov"=>[49.1570792, 21.4754588], "Lukov, okres Bardejov"=>[49.2926535, 21.0808679], "Malcov, okres Bardejov"=>[49.3057935, 21.0640149], "Marhaň, okres Bardejov"=>[49.168927, 21.4497145], "Nižný Tvarožec, okres Bardejov"=>[49.3636656, 21.1872976], "Petrová, okres Bardejov"=>[49.38802500000001, 21.1180627], "Raslavice, okres Bardejov"=>[49.149816, 21.315665], "Rokytov, okres Bardejov"=>[49.3172023, 21.1896396], "Snakov, okres Bardejov"=>[49.3287582, 21.0469792], "Zborov, okres Bardejov"=>[49.3701614, 21.3073329], "Humenné, okres Humenné"=>[48.9338752, 21.9107212], "Kamenica nad Cirochou, okres Humenné"=>[48.9300636, 21.9986214], "Karná, okres Humenné"=>[48.9858383, 21.805279], "Slovenská Volová, okres Humenné"=>[48.9816274, 21.8450185], "Zbudské Dlhé, okres Humenné"=>[49.0750278, 21.9613944], "Ľubiša, okres Humenné"=>[49.0048075, 21.9472438], "Kamienka, okres Humenné"=>[48.9073553, 21.9958567], "Brekov, okres Humenné"=>[48.9058438, 21.8359461], "Jurské, okres Kežmarok"=>[49.2026763, 20.5261264], "ĽUbica, okres Kežmarok"=>[49.1205569, 20.4482932], "Rakúsy, okres Kežmarok"=>[49.1881406, 20.3876679], "Stráne pod Tatramy, okres Kežmarok"=>[49.1583804, 20.3671343], "Jezersko, okres Kežmarok"=>[49.29905830000001, 20.3353579], "Stará Lesná, okres Kežmarok"=>[49.1361539, 20.306469], "Holumnica, okres Kežmarok"=>[49.2335343, 20.5249882], "Výborná, okres Kežmarok"=>[49.2338009, 20.3970016], "Ihľany, okres Kežmarok"=>[49.18688179999999, 20.5371962], "Veľká Lomnica, okres Kežmarok"=>[49.1115143, 20.3604209], "Krížová Ves, okres Kežmarok"=>[49.1882483, 20.487462], "Podhorany, okres Kežmarok"=>[49.2375604, 20.4812202], "Huncovce, okres Kežmarok"=>[49.1144535, 20.3768386], "Toporec, okres Kežmarok"=>[49.2645686, 20.4913562], "Vrbov, okres Kežmarok"=>[49.1424694, 20.4318651], "Malý Slavkov, okres Kežmarok"=>[49.1362476, 20.3889536], "Levoča, okres Levoča"=>[49.0260192, 20.588875], "Dlhé Stráže, okres Levoča"=>[49.0258967, 20.5212412], "Doľany, okres Levoča"=>[49.01191379999999, 20.6544833], "Jablonov, okres Levoča"=>[49.01736150000001, 20.7191622], "Dravce, okres Levoča"=>[49.01970009999999, 20.4851662], "Domaňovce, okres Levoča"=>[48.9631904, 20.6594499], "Bijacovce, okres Levoča"=>[49.02438170000001, 20.7983113], "Spišské Podhradie, okres Levoča"=>[49.00000989999999, 20.7516823], "Spišský Štvrtok, okres Levoča"=>[49.0020342, 20.4678725], "Spišská Hrhov, okres Levoča"=>[49.0024792, 20.6398559], "Medzilaborce, okres Medzilaborce"=>[49.2719658, 21.9028113], "Čabiny, okres Medzilaborce"=>[49.1822751, 21.9007548], "Krásny Brod, okres Medzilaborce"=>[49.24151939999999, 21.8982541], "Palota, okres Medzilaborce"=>[49.2693021, 21.9942182], "Čabalovce, okres Medzilaborce"=>[49.2290147, 21.9640406], "Sukov, okres Medzilaborce"=>[49.27552799999999, 21.9067254], "Batizovce, okres Poprad"=>[49.0753937, 20.1854134], "Mengusovce, okres Poprad"=>[49.07557509999999, 20.1433595], "Šuňava, okres Poprad"=>[49.0312358, 20.0824403], "Štôla, okres Poprad"=>[49.0923289, 20.1406351], "Gánovce, okres Poprad"=>[49.0300862, 20.3279007], "Gerlachov, okres Poprad"=>[49.0983437, 20.2065112], "Hranovnica, okres Poprad"=>[48.9881172, 20.308529], "Janovce, okres Poprad"=>[49.0176105, 20.4296478], "Kravany, okres Poprad"=>[48.9978573, 20.2029354], "Liptovská Teplička, okres Poprad"=>[48.9675582, 20.0896224], "Lučivná, okres Poprad"=>[49.0536541, 20.1489728], "Spišská Teplica, okres Poprad"=>[49.0483235, 20.2518371], "Spišské Bystré, okres Poprad"=>[48.99253909999999, 20.2426333], "Spišský Štiavnik, okres Poprad"=>[48.9938392, 20.3587545], "Švábovce, okres Poprad"=>[49.0294493, 20.3580955], "Veľký Slavkov, okres Poprad"=>[49.095765, 20.2794889], "Vikartovce, okres Poprad"=>[48.9938668, 20.1538774], "Vydrník, okres Poprad"=>[49.0013137, 20.4065014], "Lomnička, okres Stará Ľubovňa"=>[49.2471182, 20.570042], "Kolačkov, okres Stará Ľubovňa"=>[49.2621266, 20.6286623], "Jakubany, okres Stará Ľubovňa"=>[49.2465609, 20.6949466], "Čirč, okres Stará Ľubovňa"=>[49.282264, 20.9207536], "Šarišské Jastrabie, okres Stará Ľubovňa"=>[49.2416474, 20.9092964], "Stará Ľubovňa, okres Stará Ľubovňa"=>[49.3022126, 20.6905301], "Kamienka, okres Stará Ľubovňa"=>[49.3316057, 20.6154292], "Kyjov, okres Stará Ľubovňa"=>[49.2171656, 20.9386175], "Haligovce, okres Stará Ľubovňa"=>[49.3591361, 20.4470953], "Mníšek nad Popradom, okres Stará Ľubovňa"=>[49.4146134, 20.7168553], "Jarabina, okres Stará Ľubovňa"=>[49.3348315, 20.6561438], "Ľubotín, okres Stará Ľubovňa"=>[49.2619873, 20.8772935], "Snina, okres Snina"=>[48.9875164, 22.1519569], "Stakčín, okres Snina"=>[49.0018008, 22.229107], "Ulič, okres Snina"=>[48.9631913, 22.4236834], "Ubľa, okres Snina"=>[48.8992194, 22.3917907], "Klenová, okres Snina"=>[48.9416115, 22.3337859], "Belá nad Cirochou, okres Snina"=>[48.97748139999999, 22.1042236], "Dúbrava, okres Snina"=>[48.87489919999999, 22.3584668], "Kalná Roztoka, okres Snina"=>[48.9673217, 22.3237046], "Vyšný Hrabovec, okres Stropkov"=>[49.0891315, 21.6872242], "Krušinec, okres Stropkov"=>[49.2035002, 21.65283], "Miková, okres Stropkov"=>[49.2937379, 21.8238776], "Bukovce, okres Stropkov"=>[49.2663993, 21.7120263], "Brezina, okres Stropkov"=>[49.2141297, 21.7000021], "Vyškovce, okres Stropkov"=>[49.2035002, 21.65283], "Korunková, okres Stropkov"=>[49.19932499999999, 21.7468134], "Veľkrop, okres Stropkov"=>[49.2401017, 21.7472597], "Makovce, okres Stropkov"=>[49.2581168, 21.7527093], "Vyšná Olšava, okres Stropkov"=>[49.2035002, 21.65283], "Gribov, okres Stropkov"=>[49.2947602, 21.7241229], "Lomné, okres Stropkov"=>[49.1068358, 21.6376578], "Staškovce, okres Stropkov"=>[49.2798236, 21.7548416], "Turany nad Ondavou, okres Stropkov"=>[49.1007186, 21.6535226], "Kolbovce, okres Stropkov"=>[49.1635791, 21.7263249], "Bžany, okres Stropkov"=>[49.0919696, 21.6376758], "Stropkov, okres Stropkov"=>[49.2026191, 21.6518244], "Sabinov, okres Sabinov"=>[49.10276959999999, 21.0978], "Lipany, okres Sabinov"=>[49.1546315, 20.9620385], "Pečovská Nová Ves, okres Sabinov"=>[49.122122, 21.0413611], "Nižný Slavkov, okres Sabinov"=>[49.1024685, 20.8503564], "Torisa, okres Sabinov"=>[49.1599824, 20.8782788], "Krivany, okres Sabinov"=>[49.1701415, 20.9141562], "Rožkovany, okres Sabinov"=>[49.1380819, 20.9900719], "Šarišské Michaľany, okres Sabinov"=>[49.06969489999999, 21.1349264], "Ostrovany, okres Sabinov"=>[49.0623442, 21.1166699], "Oľšov, okres Sabinov"=>[49.180001, 20.8787707], "Jarovnice, okres Sabinov"=>[49.056104, 21.0600338], "Uzovské Pekľany, okres Sabinov"=>[49.1028118, 21.0926017], "Miľpoš, okres Sabinov"=>[49.1807728, 21.0036966], "Tichý Potok, okres Sabinov"=>[49.1477923, 20.7868744], "Olejníkov, okres Sabinov"=>[49.186992, 21.0700007], "Ražňany, okres Sabinov"=>[49.0811479, 21.0828259], "Renčišov, okres Sabinov"=>[49.0955114, 20.9641351], "Svidník, okres Svidník"=>[49.3055641, 21.568117], "Giraltovce, okres Svidník"=>[49.1134228, 21.5146843], "Beňadikovce, okres Svidník"=>[49.2336023, 21.5468771], "Cernina, okres Svidník"=>[49.2967576, 21.4744316], "Dlhoňa, okres Svidník"=>[49.403553, 21.568945], "Dubová, okres Svidník"=>[49.3634494, 21.4326779], "Hunkovce, okres Svidník"=>[49.3607991, 21.6518788], "Kapišová, okres Svidník"=>[49.3452286, 21.5955432], "Kečkovce, okres Svidník"=>[49.3826988, 21.5112171], "Krajná Bystrá, okres Svidník"=>[49.3849838, 21.6774127], "Krajná Poľana, okres Svidník"=>[49.3649909, 21.6883771], "Kružlová, okres Svidník"=>[49.3637513, 21.5822885], "Kurimka, okres Svidník"=>[49.3190062, 21.4374851], "Ladomírová, okres Svidník"=>[49.329499, 21.6247181], "Nižný Komárnik, okres Svidník"=>[49.37511300000001, 21.6966064], "Nižný Mirošov, okres Svidník"=>[49.3559329, 21.4744724], "Rovné, okres Svidník"=>[49.2819941, 21.5184362], "Roztoky, okres Svidník"=>[49.3907041, 21.4931709], "Stročín, okres Svidník"=>[49.26537099999999, 21.5966014], "Vyšný Mirošov, okres Svidník"=>[49.38645959999999, 21.4458512], "Banské, okres Vranov nad Topľou"=>[48.8288471, 21.5749804], "Benkovce, okres Vranov nad Topľou"=>[48.9509155, 21.7091112], "Bystré, okres Vranov nad Topľou"=>[49.0062777, 21.5419199], "Čaklov, okres Vranov nad Topľou"=>[48.9092638, 21.6268408], "Čičava, okres Vranov nad Topľou"=>[48.9237359, 21.6653866], "Dlhé Klčove, okres Vranov nad Topľou"=>[48.8111745, 21.7385489], "Ďurďoš, okres Vranov nad Topľou"=>[49.04853319999999, 21.5244216], "Hanušovce nad Topľou, okres Vranov nad Topľou"=>[49.0273908, 21.5022433], "Hencovce, okres Vranov nad Topľou"=>[48.87246680000001, 21.7301427], "Hlinné, okres Vranov nad Topľou"=>[48.9531752, 21.5803989], "Jastrabie nad Topľou, okres Vranov nad Topľou"=>[48.9401445, 21.6043843], "Kamenná Poruba, okres Vranov nad Topľou"=>[48.8468731, 21.651445], "Kučín, okres Vranov nad Topľou"=>[48.86880370000001, 21.7469774], "Malá Domaša, okres Vranov nad Topľou"=>[48.9691425, 21.7105248], "Nižný Hrabovec, okres Vranov nad Topľou"=>[48.8493175, 21.7520624], "Ondavské Matiašovce, okres Vranov nad Topľou"=>[48.9348424, 21.7458834], "Pavlovce, okres Vranov nad Topľou"=>[49.0241684, 21.4395514], "Poša, okres Vranov nad Topľou"=>[48.8387462, 21.7542592], "Prosačov, okres Vranov nad Topľou"=>[49.0438588, 21.5356712], "Rafajovce, okres Vranov nad Topľou"=>[49.0454186, 21.7359148], "Rudlov, okres Vranov nad Topľou"=>[48.9230208, 21.5713332], "Ruská Voľa, okres Vranov nad Topľou"=>[49.09630010000001, 21.5897706], "Sačurov, okres Vranov nad Topľou"=>[48.8211237, 21.6951281], "Sečovská Polianka, okres Vranov nad Topľou"=>[48.7861116, 21.6805314], "Sedliská, okres Vranov nad Topľou"=>[48.907619, 21.7320787], "Skrabské, okres Vranov nad Topľou"=>[49.00805159999999, 21.5778146], "Soľ, okres Vranov nad Topľou"=>[48.9267445, 21.5973326], "Vechec, okres Vranov nad Topľou"=>[48.8723129, 21.6250921], "Vranov nad Topľou - Čemerné, okres Vranov nad Topľou"=>[48.87706559999999, 21.667092], "Vyšný Žipov, okres Vranov nad Topľou"=>[48.9855617, 21.5872532], "Zámutov, okres Vranov nad Topľou"=>[48.899984, 21.5523423], "Žalobín, okres Vranov nad Topľou"=>[48.9687186, 21.7283219], "Dobšiná, okres Rožňava"=>[48.8207511, 20.3656619], "Gemerská Hôrka, okres Rožňava"=>[48.5340477, 20.3783026], "Čierna Lehota, okres Rožňava"=>[48.7227853, 20.2516061], "Rakovnice, okres Rožňava"=>[48.65715429999999, 20.4579226], "Hrušov, okres Rožňava"=>[48.5825314, 20.636683], "Kobeliarovo, okres Rožňava"=>[48.7440382, 20.3725283], "Krásnohorské Podhradie, okres Rožňava"=>[48.6537038, 20.5955693], "Vyšná Slaná, okres Rožňava"=>[48.7858999, 20.3167172], "Gočovo, okres Rožňava"=>[48.7584319, 20.4178298], "Kunová Teplica, okres Rožňava"=>[48.6123197, 20.3803972], "Gemerská Panica, okres Rožňava"=>[48.4734024, 20.3511318], "Silická Brezová, okres Rožňava"=>[48.5325409, 20.4856609], "Stratená, okres Rožňava"=>[48.87116109999999, 20.338426], "Rozložná, okres Rožňava"=>[48.6177631, 20.350058], "Brdárka, okres Rožňava"=>[48.765752, 20.3383715], "Slavec, okres Rožňava"=>[48.5869107, 20.4672611], "Slavoška, okres Rožňava"=>[48.7269882, 20.337932], "Plešivec, okres Rožňava"=>[48.5478222, 20.4051431], "Pača, okres Rožňava"=>[48.6776022, 20.6072879], "Brzotín, okres Rožňava"=>[48.6309001, 20.4982673], "Henckovce, okres Rožňava"=>[48.7128224, 20.4331042], "Čoltovo, okres Rožňava"=>[48.4947534, 20.3740355], "Nižná Slaná, okres Rožňava"=>[48.7241665, 20.4160947], "Slavošovce, okres Rožňava"=>[48.7123095, 20.2849254], "Rožňavské Bystré, okres Rožňava"=>[48.66503729999999, 20.4406104], "Silica, okres Rožňava"=>[48.5539453, 20.5190837], "Rejdová, okres Rožňava"=>[48.7901646, 20.2834697], "Koceľovce, okres Rožňava"=>[48.7099766, 20.3427783], "Bôrka, okres Rožňava"=>[48.6308211, 20.764216], "Gočaltovo, okres Rožňava"=>[48.6388346, 20.3448478], "Bretka, okres Rožňava"=>[48.4878345, 20.3413629], "Roštár, okres Rožňava"=>[48.6898908, 20.3472376], "Bačkovík, okres Košice - okolie"=>[48.78294469999999, 21.4309867], "Beniakovce, okres Košice - okolie"=>[48.7693462, 21.316781], "Bidovce, okres Košice - okolie"=>[48.7364136, 21.4392562], "Blažice, okres Košice - okolie"=>[48.6668786, 21.4115397], "Bočiar, okres Košice - okolie"=>[48.59187379999999, 21.2355535], "Boliarov, okres Košice - okolie"=>[48.8038704, 21.4326734], "Čakonovce, okres Košice - okolie"=>[48.768, 21.4472025], "Čaňa, okres Košice - okolie"=>[48.607069, 21.3248689], "Drienovec, okres Košice - okolie"=>[48.6077362, 20.9521324], "Družstevná pri Hornáde, okres Košice - okolie"=>[48.805242, 21.2491673], "Dvorníky - Včeláre, okres Košice - okolie"=>[48.60205910000001, 20.839333], "Ďurkov, okres Košice - okolie"=>[48.7079075, 21.4464422], "Háj, okres Košice - okolie"=>[48.62888299999999, 20.8537447], "Chrastné, okres Košice - okolie"=>[48.7918769, 21.3483657], "Jasov, okres Košice - okolie"=>[48.6836554, 20.9733293], "Kecerovce, okres Košice - okolie"=>[48.8255148, 21.4141216], "Kechnec, okres Košice - okolie"=>[48.5493833, 21.2644477], "Košické Olšany, okres Košice - okolie"=>[48.7336356, 21.3456711], "Košický Klečenov, okres Košice - okolie"=>[48.7399806, 21.5044684], "Kysak, okres Košice - okolie"=>[48.8534553, 21.2214489], "Kráľovce, okres Košice - okolie"=>[48.8034237, 21.329649], "Medzev, okres Košice - okolie"=>[48.6998208, 20.8923605], "Nižná Myšľa, okres Košice - okolie"=>[48.6256913, 21.3636289], "Nižný Lanec, okres Košice - okolie"=>[48.5377051, 21.1089393], "Novačany, okres Košice - okolie"=>[48.6902442, 21.0713639], "Ploské, okres Košice - okolie"=>[48.81424579999999, 21.3252326], "Rankovce, okres Košice - okolie"=>[48.80934420000001, 21.4598224], "Opina, okres Košice - okolie"=>[48.8536622, 21.4266226], "Sady nad Torysou, okres Košice - okolie"=>[48.7075626, 21.3460059], "Seňa, okres Košice - okolie"=>[48.558853, 21.2572586], "Sokoľ, okres Košice - okolie"=>[48.8133857, 21.2195117], "Sokoľany, okres Košice - okolie"=>[48.6088941, 21.2284553], "Svinica, okres Košice - okolie"=>[48.73169069999999, 21.4598484], "Valaliky, okres Košice - okolie"=>[48.64228300000001, 21.2918802], "Turňa nad Bodvou, okres Košice - okolie"=>[48.6004045, 20.8776599], "Veľká Ida, okres Košice - okolie"=>[48.5976622, 21.1673945], "Vyšná Myšľa, okres Košice - okolie"=>[48.6341487, 21.3875266], "Vtáčkovce, okres Košice - okolie"=>[48.8434889, 21.3793687], "Olšovany, okres Košice - okolie"=>[48.7051832, 21.4125806], "Nálepkovo, okres Gelnica"=>[48.8419046, 20.6187585], "Závadka, okres Gelnica"=>[48.8662865, 20.6196727], "Rychnava, okres Gelnica"=>[48.9261829, 20.9212543], "Mníšek nad Hnilcom, okres Gelnica"=>[48.8042205, 20.8046612], "Helcmanovce, okres Gelnica"=>[48.8293054, 20.868947], "Demeter, okres Košice I"=>[48.7437458, 21.2579054], "Drahňov, okres Michalovce"=>[48.5907881, 21.967094], "Kapušianske Kľačany, okres Michalovce"=>[48.5299461, 22.1057503], "Laškovce, okres Michalovce"=>[48.70073, 21.8498466], "Michalovce, okres Michalovce"=>[48.7556769, 21.9183859], "Kriškovská Liesková, okres Michalovce"=>[48.5857252, 22.028212], "Žehra, okres Spišská Nová Ves"=>[48.9796323, 20.7913207], "Spišská Nová Ves, okres Spišská Nová Ves"=>[48.94352689999999, 20.567981], "Olcnava, okres Spišská Nová Ves"=>[48.9263875, 20.7539618], "Markušovce, okres Spišská Nová Ves"=>[48.91583360000001, 20.6232929], "Krompachy, okres Spišská Nová Ves"=>[48.9116025, 20.8741341], "Betlanovce, okres Spišská Nová Ves"=>[48.97955169999999, 20.3907843], "Spišské Vlachy, okres Spišská Nová Ves"=>[48.9486559, 20.7935806], "Poráč, okres Spišská Nová Ves"=>[48.8840349, 20.7245772], "Kaľava, okres Spišská Nová Ves"=>[48.93460049999999, 20.8682643], "Vítkovce, okres Spišská Nová Ves"=>[48.9285359, 20.7208571], "Kalinovce, okres Spišská Nová Ves"=>[48.9278319, 20.8549394], "Letanovce, okres Spišská Nová Ves"=>[48.9797269, 20.4670197], "Iliašovce, okres Spišská Nová Ves"=>[48.9925358, 20.5256298], "Teplička, okres Spišská Nová Ves"=>[48.9085759, 20.5899614], "Chrasť nad Hornádom, okres Spišská Nová Ves"=>[48.92459909999999, 20.7049371], "Spišské Tomašovce, okres Spišská Nová Ves"=>[48.9622318, 20.4722852], "Slovinky, okres Spišská Nová Ves"=>[48.8787146, 20.8439326], "Hrabušice, okres Spišská Nová Ves"=>[48.975307, 20.4096258], "Smižany, okres Spišská Nová Ves"=>[48.9559852, 20.5188023], "Arnutovce, okres Spišská Nová Ves"=>[48.9771863, 20.4936844], "Bystrany, okres Spišská Nová Ves"=>[48.9494712, 20.757959], "Rudňany, okres Spišská Nová Ves"=>[48.8844123, 20.6777043], "Trebišov, okres Trebišov"=>[48.62338159999999, 21.7199734], "Čelovce, okres Trebišov"=>[48.62725349999999, 21.7168324], "Boťany, okres Trebišov"=>[48.4455667, 22.0864034], "Brehov, okres Trebišov"=>[48.48728759999999, 21.819578], "Malá Tŕnia, okres Trebišov"=>[48.650195, 21.6671254], "Bačka, okres Trebišov"=>[48.443715, 22.0512507], "Veľké Trakany, okres Trebišov"=>[48.3925169, 22.0938849], "Leles, okres Trebišov"=>[48.46713339999999, 22.0254382], "Egreš, okres Trebišov"=>[48.6141574, 21.6090622], "Svinice, okres Trebišov"=>[48.4571622, 21.881434], "Zemplín, okres Trebišov"=>[48.43894419999999, 21.811648], "Ladmovce, okres Trebišov"=>[48.41219359999999, 21.7811118], "Hrčeľ, okres Trebišov"=>[48.5227851, 21.687938], "Kuzmice, okres Trebišov"=>[48.580949, 21.5702248], "Slovenské Nové Mesto, okres Trebišov"=>[48.4036728, 21.6694418], "Hraň, okres Trebišov"=>[48.54469650000001, 21.7884992], "Brezina, okres Trebišov"=>[48.5490698, 21.5551596], "Bačkov, okres Trebišov"=>[48.7391072, 21.6253616], "Malé Trakany, okres Trebišov"=>[48.4010046, 22.1013877], "Zatín, okres Trebišov"=>[48.4753566, 21.9038246], "Zemplínka Teplica, okres Trebišov"=>[48.6460968, 21.573834], "Ozorovce, okres Trebišov"=>[48.66288470000001, 21.6117411], "Kravany, okres Trebišov"=>[48.7595619, 21.6414921], "Sečovce, okres Trebišov"=>[48.7031127, 21.6531234], "Veľký Kamenec, okres Trebišov"=>[48.3611286, 21.8053945], "Poľany, okres Trebišov"=>[48.4687065, 21.9908261], "Zbehňov, okres Trebišov"=>[48.6902835, 21.6282324], "Kožuchov, okres Trebišov"=>[48.5658343, 21.7247867], "Vojčice, okres Trebišov"=>[48.679416, 21.7124034], "Parchovany, okres Trebišov"=>[48.7518051, 21.7143334], "Bežovce, okres Sobrance"=>[48.6316277, 22.1511587], "Blatná Polianka, okres Sobrance"=>[48.692184, 22.1067228], "Horňa, okres Sobrance"=>[48.7438976, 22.1803319], "Kolibabovce, okres Sobrance"=>[48.7206341, 22.254921], "Nižná Rybnica, okres Sobrance"=>[48.75414989999999, 22.152102], "Ostrov, okres Sobrance"=>[48.7204833, 22.1648444], "Podhoroď, okres Sobrance"=>[48.818051, 22.3004706], "Ruský Hrabovec, okres Sobrance"=>[48.85605409999999, 22.3526411], "Sobrance, okres Sobrance"=>[48.7486063, 22.1786579], "Svätuš, okres Sobrance"=>[48.6835688, 22.1430035], "Tašuľa, okres Sobrance"=>[48.6593737, 22.1686382], "Tibava, okres Sobrance"=>[48.7412073, 22.2093084], "Úbrež, okres Sobrance"=>[48.7870199, 22.1276191], "Vyšná Rybnica, okres Sobrance"=>[48.821592, 22.1770352], "Blatné Remety, okres Sobrance"=>[48.7080511, 22.1045224]}


waypoints = osady_a_poloha.collect do |osada, latlon|
  lat, lon = latlon
  <<STRING
  <wpt lat="#{lat}" lon="#{lon}">
	<name><![CDATA[#{osada}]]></name>
</wpt>
STRING
end

gpx = <<STRING
<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<gpx version="1.1" creator="Locus Android"
 xmlns="http://www.topografix.com/GPX/1/1"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"
 xmlns:gpxx="http://www.garmin.com/xmlschemas/GpxExtensions/v3"
 xmlns:gpxtrkx="http://www.garmin.com/xmlschemas/TrackStatsExtension/v1"
 xmlns:gpxtpx="http://www.garmin.com/xmlschemas/TrackPointExtension/v2"
 xmlns:locus="http://www.locusmap.eu">
	
#{waypoints.join("\n")}

</gpx>
STRING

File.open('osady.gpx', 'wb'){|f| f.write gpx}
puts 'successfully generated osady.gpx'

html_template = File.read('index.html.template')
leaflet_js = osady_a_poloha.collect do |osada, latlon|
  lat, lon = latlon
  "marker = L.marker(new L.LatLng(#{lat}, #{lon}));
	 marker.bindPopup('#{osada}');
	markers.addLayer(marker);"
end

File.open('index.html', 'wb'){|f| f.write html_template.sub('MARKERS_BE_HERE', leaflet_js.join("\n"))}
puts 'successfully generated html/index.html'
